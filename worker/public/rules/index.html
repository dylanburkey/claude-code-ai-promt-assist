<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Rules - Semantic Prompt Workstation</title><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#0a0a0f"><link rel="icon" type="image/svg+xml" href="/icon.svg"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=IBM+Plex+Sans:wght@400;500;600&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="PromptEngine"><link rel="apple-touch-icon" href="/icon.svg"><link rel="stylesheet" href="/_astro/agents.CP6fvwuQ.css">
<style>.btn[data-astro-cid-6ygtcg62]{cursor:pointer;border:none;border-radius:var(--radius-md);padding:.625rem 1rem;font-family:var(--font-body);font-size:.8rem;font-weight:500;transition:var(--transition-fast);display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.btn[data-astro-cid-6ygtcg62]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[data-astro-cid-6ygtcg62]{background:var(--accent-primary);color:#fff}.btn-primary[data-astro-cid-6ygtcg62]:hover:not(:disabled){background:var(--accent-primary-hover);transform:translateY(-1px)}.btn-secondary[data-astro-cid-6ygtcg62]{background:transparent;color:var(--text-secondary);border:1px solid var(--border-default)}.btn-secondary[data-astro-cid-6ygtcg62]:hover:not(:disabled){border-color:var(--text-muted);color:var(--text-primary);background:var(--bg-hover)}.btn-ghost[data-astro-cid-6ygtcg62]{background:transparent;color:var(--text-muted);padding:.25rem}.btn-ghost[data-astro-cid-6ygtcg62]:hover{color:var(--text-primary);background:var(--bg-hover)}.btn-icon[data-astro-cid-6ygtcg62]{padding:.5rem;width:36px;height:36px}.btn-sm[data-astro-cid-6ygtcg62]{padding:.375rem .75rem;font-size:.75rem}.btn-xs[data-astro-cid-6ygtcg62]{padding:.2rem .4rem;font-size:.7rem}.input-group[data-astro-cid-2lkv3ujd]{display:flex;flex-direction:column}label{font-size:.8rem;font-weight:500;color:var(--text-secondary);margin-bottom:.5rem;display:block}input,textarea,select{background:var(--bg-surface);border:1px solid var(--border-subtle);color:var(--text-primary);padding:.75rem 1rem;border-radius:var(--radius-md);width:100%;font-family:var(--font-body);font-size:.875rem;transition:var(--transition-fast)}input::placeholder,textarea::placeholder{color:var(--text-muted)}input:focus,textarea:focus{outline:none;border-color:var(--accent-primary);background:var(--bg-elevated);box-shadow:0 0 0 3px #6366f11a}textarea{resize:vertical;min-height:80px}.modal-overlay[data-astro-cid-hrybwmjy]{position:fixed;inset:0;background:#000c;backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;z-index:100;opacity:0;pointer-events:none;transition:opacity var(--transition-normal);padding:1rem}.modal-overlay[data-astro-cid-hrybwmjy].open{opacity:1;pointer-events:all}.modal[data-astro-cid-hrybwmjy]{background:var(--bg-surface);padding:1.75rem;border-radius:var(--radius-lg);width:100%;max-width:500px;border:1px solid var(--border-default);box-shadow:0 20px 60px #00000080;display:flex;flex-direction:column;gap:1.25rem;max-height:90vh;overflow-y:auto}.modal[data-astro-cid-hrybwmjy] h2[data-astro-cid-hrybwmjy]{font-family:var(--font-display);font-size:1.1rem;font-weight:600;color:var(--text-primary)}.modal-actions{display:flex;gap:.75rem;margin-top:.5rem;justify-content:flex-end}
</style>
<link rel="stylesheet" href="/_astro/rules.CyKAmpKl.css"></head> <body data-astro-cid-sckkx6r4>  <header data-astro-cid-pux6a34n> <div class="logo-section" data-astro-cid-pux6a34n> <button class="btn-secondary btn-icon menu-toggle" id="menu-toggle" aria-label="Toggle menu" data-astro-cid-pux6a34n> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-pux6a34n> <path d="M3 12h18M3 6h18M3 18h18" data-astro-cid-pux6a34n></path> </svg> </button> <h1 data-astro-cid-pux6a34n>Semantic Prompt Workstation</h1> <span class="version-badge" data-astro-cid-pux6a34n>v3.0</span> <div id="sync-indicator" class="sync-indicator" title="Synced with cloud" data-astro-cid-pux6a34n></div> </div> <nav class="header-nav" data-astro-cid-pux6a34n> <a href="/" class="nav-link " data-astro-cid-pux6a34n> Prompt Builder </a><a href="/projects" class="nav-link " data-astro-cid-pux6a34n> Projects </a><a href="/rules" class="nav-link active" data-astro-cid-pux6a34n> Rules </a><a href="/hooks" class="nav-link " data-astro-cid-pux6a34n> Hooks </a><a href="/agents" class="nav-link " data-astro-cid-pux6a34n> Agents </a><a href="/themes" class="nav-link " data-astro-cid-pux6a34n> Themes </a> </nav> <div class="header-actions" data-astro-cid-pux6a34n> <div class="project-selector" id="project-selector" data-astro-cid-pux6a34n> <select id="current-project-select" data-astro-cid-pux6a34n> <option value="" data-astro-cid-pux6a34n>No Project Selected</option> </select> </div> <button class="btn-secondary btn-icon" id="import-btn" title="Import" data-astro-cid-pux6a34n> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-pux6a34n> <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" data-astro-cid-pux6a34n></path> <polyline points="17 8 12 3 7 8" data-astro-cid-pux6a34n></polyline> <line x1="12" y1="3" x2="12" y2="15" data-astro-cid-pux6a34n></line> </svg> </button> <input type="file" id="file-upload" class="hidden-input" accept=".json" data-astro-cid-pux6a34n> <button class="btn-secondary btn-icon" id="theme-toggle-btn" title="Toggle Theme" data-astro-cid-pux6a34n> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-pux6a34n> <circle cx="12" cy="12" r="5" data-astro-cid-pux6a34n></circle> <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" data-astro-cid-pux6a34n></path> </svg> </button> <button class="btn-secondary btn-icon" id="export-btn" title="Export Project" data-astro-cid-pux6a34n> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-pux6a34n> <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" data-astro-cid-pux6a34n></path> <polyline points="7 10 12 15 17 10" data-astro-cid-pux6a34n></polyline> <line x1="12" y1="15" x2="12" y2="3" data-astro-cid-pux6a34n></line> </svg> </button> </div> </header>  <script type="module">document.getElementById("menu-toggle")?.addEventListener("click",()=>{document.getElementById("sidebar-panel")?.classList.toggle("mobile-open")});document.getElementById("import-btn")?.addEventListener("click",()=>{document.getElementById("file-upload")?.click()});document.getElementById("file-upload")?.addEventListener("change",t=>{const e=t.target.files?.[0];e&&console.log("File selected for import:",e.name)});document.getElementById("current-project-select")?.addEventListener("change",t=>{const e=t.target.value;console.log("Project selected:",e)});document.getElementById("theme-toggle-btn")?.addEventListener("click",()=>{const t=localStorage.getItem("theme-settings");let c="default";if(t)try{c=JSON.parse(t).id||"default"}catch(r){console.warn("Failed to parse theme data:",r)}const e=["default","light","ocean","forest"],d=e.indexOf(c),o=e[(d+1)%e.length],n={default:{colors:{"--bg-base":"#0a0a0f","--bg-surface":"#12121a","--bg-elevated":"#1a1a24","--bg-hover":"#22222e","--accent-primary":"#6366f1","--accent-primary-hover":"#818cf8","--accent-secondary":"#22d3ee","--text-primary":"#f4f4f5","--text-secondary":"#a1a1aa","--text-muted":"#71717a","--border-subtle":"#27272a","--border-default":"#3f3f46"}},light:{colors:{"--bg-base":"#ffffff","--bg-surface":"#f8fafc","--bg-elevated":"#f1f5f9","--bg-hover":"#e2e8f0","--accent-primary":"#6366f1","--accent-primary-hover":"#4f46e5","--accent-secondary":"#0891b2","--text-primary":"#0f172a","--text-secondary":"#475569","--text-muted":"#64748b","--border-subtle":"#e2e8f0","--border-default":"#cbd5e1"}},ocean:{colors:{"--bg-base":"#0c1821","--bg-surface":"#1b2838","--bg-elevated":"#243447","--bg-hover":"#2d4057","--accent-primary":"#3b82f6","--accent-primary-hover":"#60a5fa","--accent-secondary":"#06b6d4","--text-primary":"#f0f9ff","--text-secondary":"#bae6fd","--text-muted":"#7dd3fc","--border-subtle":"#334155","--border-default":"#475569"}},forest:{colors:{"--bg-base":"#0f1419","--bg-surface":"#1a2332","--bg-elevated":"#253344","--bg-hover":"#304455","--accent-primary":"#22c55e","--accent-primary-hover":"#4ade80","--accent-secondary":"#14b8a6","--text-primary":"#f0fdf4","--text-secondary":"#bbf7d0","--text-muted":"#86efac","--border-subtle":"#374151","--border-default":"#4b5563"}}}[o];if(n){Object.entries(n.colors).forEach(([s,l])=>{document.documentElement.style.setProperty(s,l)});const r={id:o,custom:null,timestamp:Date.now()};localStorage.setItem("theme-settings",JSON.stringify(r));const a=document.createElement("div");a.className="toast success show",a.textContent=`Switched to ${o.charAt(0).toUpperCase()+o.slice(1)} theme`,document.body.appendChild(a),setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>document.body.removeChild(a),300)},2e3)}});document.getElementById("export-btn")?.addEventListener("click",()=>{console.log("Export button clicked")});</script> <div class="main-layout" data-astro-cid-cbfsj3jh> <!-- RULE SETS LIST --> <section class="panel" id="rule-sets-panel" data-astro-cid-cbfsj3jh> <div class="panel-header" data-astro-cid-cbfsj3jh> <span class="panel-title" data-astro-cid-cbfsj3jh>Rule Sets</span> <div class="header-actions" data-astro-cid-cbfsj3jh> <button class="btn btn-primary btn-sm" type="button" id="new-rule-set-btn" data-astro-cid-6ygtcg62>  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-cbfsj3jh> <line x1="12" y1="5" x2="12" y2="19" data-astro-cid-cbfsj3jh></line> <line x1="5" y1="12" x2="19" y2="12" data-astro-cid-cbfsj3jh></line> </svg>
New Rule Set
 </button>  </div> </div> <div class="search-section" data-astro-cid-cbfsj3jh> <div class="search-box" data-astro-cid-cbfsj3jh> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-cbfsj3jh> <circle cx="11" cy="11" r="8" data-astro-cid-cbfsj3jh></circle> <path d="M21 21l-4.35-4.35" data-astro-cid-cbfsj3jh></path> </svg> <input type="text" id="rule-set-search" placeholder="Search rule sets..." data-astro-cid-cbfsj3jh> </div> </div> <div id="rule-set-list" class="item-list" data-astro-cid-cbfsj3jh> <div class="empty-state" data-astro-cid-cbfsj3jh> <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-astro-cid-cbfsj3jh> <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-astro-cid-cbfsj3jh></path> <polyline points="14 2 14 8 20 8" data-astro-cid-cbfsj3jh></polyline> <line x1="16" y1="13" x2="8" y2="13" data-astro-cid-cbfsj3jh></line> <line x1="16" y1="17" x2="8" y2="17" data-astro-cid-cbfsj3jh></line> </svg> <h3 data-astro-cid-cbfsj3jh>No rule sets yet</h3> <p data-astro-cid-cbfsj3jh>Create your first rule set to guide AI behavior</p> <button class="btn btn-primary" type="button" id="empty-new-rule-set-btn" data-astro-cid-6ygtcg62> Create Rule Set </button>  </div> </div> </section> <!-- RULE EDITOR --> <section class="panel" id="rule-editor-panel" data-astro-cid-cbfsj3jh> <div class="panel-header" data-astro-cid-cbfsj3jh> <span class="panel-title" data-astro-cid-cbfsj3jh>Rule Editor</span> <div class="header-actions" data-astro-cid-cbfsj3jh> <button class="btn btn-secondary btn-sm" type="button" id="ai-enhance-btn" style="display: none;" data-astro-cid-6ygtcg62>  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-cbfsj3jh> <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" data-astro-cid-cbfsj3jh></path> </svg>
AI Enhance
 </button>  <button class="btn btn-secondary btn-sm" type="button" id="duplicate-rule-set-btn" style="display: none;" data-astro-cid-6ygtcg62>  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-cbfsj3jh> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-cbfsj3jh></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-cbfsj3jh></path> </svg>
Duplicate
 </button>  <button class="btn btn-secondary btn-sm" type="button" id="delete-rule-set-btn" style="display: none; color: #ef4444; border-color: #ef4444;" data-astro-cid-6ygtcg62>  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-cbfsj3jh> <polyline points="3 6 5 6 21 6" data-astro-cid-cbfsj3jh></polyline> <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" data-astro-cid-cbfsj3jh></path> </svg>
Delete
 </button>  </div> </div> <div id="rule-editor-content" class="editor-content" data-astro-cid-cbfsj3jh> <div class="empty-editor" data-astro-cid-cbfsj3jh> <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" data-astro-cid-cbfsj3jh> <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-astro-cid-cbfsj3jh></path> <polyline points="14 2 14 8 20 8" data-astro-cid-cbfsj3jh></polyline> <line x1="16" y1="13" x2="8" y2="13" data-astro-cid-cbfsj3jh></line> <line x1="16" y1="17" x2="8" y2="17" data-astro-cid-cbfsj3jh></line> </svg> <h3 data-astro-cid-cbfsj3jh>Select a rule set to edit</h3> <p data-astro-cid-cbfsj3jh>Choose a rule set from the list or create a new one</p> </div> </div> <div id="rule-form" class="rule-form" style="display: none;" data-astro-cid-cbfsj3jh> <input type="hidden" id="rule-set-id" data-astro-cid-cbfsj3jh> <div class="input-group " data-astro-cid-2lkv3ujd>  <label for="rule-set-name" data-astro-cid-cbfsj3jh>Rule Set Name</label> <input type="text" id="rule-set-name" placeholder="e.g., Code Review Guidelines" required data-astro-cid-cbfsj3jh>  </div>  <div class="input-group " data-astro-cid-2lkv3ujd>  <label for="rule-set-description" data-astro-cid-cbfsj3jh>Description</label> <textarea id="rule-set-description" rows="2" placeholder="Brief description of when to use these rules..." data-astro-cid-cbfsj3jh></textarea>  </div>  <div class="input-group " data-astro-cid-2lkv3ujd>  <label for="rule-set-content" data-astro-cid-cbfsj3jh>Rules Content</label> <textarea id="rule-set-content" rows="12" placeholder="Define the rules and guidelines..." required data-astro-cid-cbfsj3jh></textarea> <div class="form-help" data-astro-cid-cbfsj3jh> <p data-astro-cid-cbfsj3jh>Write clear, specific rules that guide AI behavior. Examples:</p> <ul data-astro-cid-cbfsj3jh> <li data-astro-cid-cbfsj3jh>Always include error handling in code examples</li> <li data-astro-cid-cbfsj3jh>Use TypeScript for all JavaScript code</li> <li data-astro-cid-cbfsj3jh>Follow accessibility best practices</li> <li data-astro-cid-cbfsj3jh>Provide explanations for complex logic</li> </ul> </div>  </div>  <div class="form-actions" data-astro-cid-cbfsj3jh> <button class="btn btn-secondary" type="button" id="cancel-rule-set-btn" data-astro-cid-6ygtcg62> Cancel </button>  <button class="btn btn-primary" type="button" id="save-rule-set-btn" data-astro-cid-6ygtcg62> Save Rule Set </button>  </div> </div> </section> <!-- RULE PREVIEW --> <section class="panel preview-panel" id="rule-preview-panel" data-astro-cid-cbfsj3jh> <div class="panel-header" data-astro-cid-cbfsj3jh> <span class="panel-title" data-astro-cid-cbfsj3jh>Preview</span> <div class="header-actions" data-astro-cid-cbfsj3jh> <button class="btn btn-secondary btn-sm" type="button" id="test-rules-btn" style="display: none;" data-astro-cid-6ygtcg62>  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-cbfsj3jh> <polygon points="5 3 19 12 5 21 5 3" data-astro-cid-cbfsj3jh></polygon> </svg>
Test Rules
 </button>  </div> </div> <div id="rule-preview-content" class="preview-content" data-astro-cid-cbfsj3jh> <div class="empty-preview" data-astro-cid-cbfsj3jh> <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-astro-cid-cbfsj3jh> <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" data-astro-cid-cbfsj3jh></path> <circle cx="12" cy="12" r="3" data-astro-cid-cbfsj3jh></circle> </svg> <h3 data-astro-cid-cbfsj3jh>Rule Preview</h3> <p data-astro-cid-cbfsj3jh>Select a rule set to see how it will appear in prompts</p> </div> </div> </section> </div>  <div id="ai-enhance-modal" class="modal-overlay " data-astro-cid-hrybwmjy> <div class="modal" data-astro-cid-hrybwmjy> <h2 data-astro-cid-hrybwmjy>AI-Assisted Rule Enhancement</h2>  <div class="input-group " data-astro-cid-2lkv3ujd>  <label for="enhancement-context" data-astro-cid-cbfsj3jh>Context</label> <textarea id="enhancement-context" rows="3" placeholder="Describe the domain, use case, or specific requirements for these rules..." data-astro-cid-cbfsj3jh></textarea>  </div>  <div class="input-group " data-astro-cid-2lkv3ujd>  <label for="enhancement-goals" data-astro-cid-cbfsj3jh>Enhancement Goals</label> <div class="checkbox-group" data-astro-cid-cbfsj3jh> <label class="checkbox-label" data-astro-cid-cbfsj3jh> <input type="checkbox" id="goal-clarity" checked data-astro-cid-cbfsj3jh> <span data-astro-cid-cbfsj3jh>Improve clarity and specificity</span> </label> <label class="checkbox-label" data-astro-cid-cbfsj3jh> <input type="checkbox" id="goal-completeness" checked data-astro-cid-cbfsj3jh> <span data-astro-cid-cbfsj3jh>Add missing rules or edge cases</span> </label> <label class="checkbox-label" data-astro-cid-cbfsj3jh> <input type="checkbox" id="goal-examples" data-astro-cid-cbfsj3jh> <span data-astro-cid-cbfsj3jh>Include examples and use cases</span> </label> <label class="checkbox-label" data-astro-cid-cbfsj3jh> <input type="checkbox" id="goal-structure" data-astro-cid-cbfsj3jh> <span data-astro-cid-cbfsj3jh>Improve organization and structure</span> </label> </div>  </div>  <div class="modal-actions" data-astro-cid-cbfsj3jh> <button class="btn btn-secondary" type="button" id="btn-cancel-enhance" data-astro-cid-6ygtcg62> Cancel </button>  <button class="btn btn-primary" type="button" id="btn-start-enhance" data-astro-cid-6ygtcg62> Enhance Rules </button>  </div>  </div> </div>  <script>(function(){const id = "ai-enhance-modal";

  // Close modal on outside click
  document.addEventListener('DOMContentLoaded', () => {
    const modal = document.getElementById(id);
    if (modal) {
      modal.addEventListener('click', (e) => {
        if (e.target.classList.contains('modal-overlay')) {
          modal.classList.remove('open');
        }
      });
    }
  });
})();</script>  <div id="test-rules-modal" class="modal-overlay " data-astro-cid-hrybwmjy> <div class="modal" data-astro-cid-hrybwmjy> <h2 data-astro-cid-hrybwmjy>Test Rule Set</h2>  <div class="input-group " data-astro-cid-2lkv3ujd>  <label for="test-scenario" data-astro-cid-cbfsj3jh>Test Scenario</label> <textarea id="test-scenario" rows="4" placeholder="Describe a scenario where these rules would apply..." data-astro-cid-cbfsj3jh></textarea>  </div>  <div class="input-group " data-astro-cid-2lkv3ujd>  <label for="test-task" data-astro-cid-cbfsj3jh>Sample Task</label> <textarea id="test-task" rows="3" placeholder="Enter a sample task to test against the rules..." data-astro-cid-cbfsj3jh></textarea>  </div>  <div class="modal-actions" data-astro-cid-cbfsj3jh> <button class="btn btn-secondary" type="button" id="btn-cancel-test-rules" data-astro-cid-6ygtcg62> Cancel </button>  <button class="btn btn-primary" type="button" id="btn-run-test-rules" data-astro-cid-6ygtcg62> Generate Test Prompt </button>  </div>  </div> </div>  <script>(function(){const id = "test-rules-modal";

  // Close modal on outside click
  document.addEventListener('DOMContentLoaded', () => {
    const modal = document.getElementById(id);
    if (modal) {
      modal.addEventListener('click', (e) => {
        if (e.target.classList.contains('modal-overlay')) {
          modal.classList.remove('open');
        }
      });
    }
  });
})();</script> <div id="toast" class="toast" data-astro-cid-cbfsj3jh></div>  <!-- PWA Status Component --> <div id="pwa-status" class="pwa-status" data-astro-cid-fssvkp6s> <div id="online-indicator" class="status-indicator online" data-astro-cid-fssvkp6s> <span class="status-dot" data-astro-cid-fssvkp6s></span> <span class="status-text" data-astro-cid-fssvkp6s>Online</span> </div> <div id="update-notification" class="update-notification hidden" data-astro-cid-fssvkp6s> <span class="update-text" data-astro-cid-fssvkp6s>Update available</span> <button id="update-button" class="update-button" data-astro-cid-fssvkp6s>Update</button> <button id="dismiss-button" class="dismiss-button" data-astro-cid-fssvkp6s>×</button> </div> <div id="cache-info" class="cache-info hidden" data-astro-cid-fssvkp6s> <div class="cache-details" data-astro-cid-fssvkp6s> <span id="cache-size" class="cache-size" data-astro-cid-fssvkp6s>Cache: 0 KB</span> <span id="cache-entries" class="cache-entries" data-astro-cid-fssvkp6s>0 items</span> </div> <button id="clear-cache-button" class="clear-cache-button" data-astro-cid-fssvkp6s>Clear Cache</button> </div> </div>  <script type="module">var O=Object.defineProperty;var S=(i,e,t)=>e in i?O(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var o=(i,e,t)=>S(i,typeof e!="symbol"?e+"":e,t);const a=class a{constructor(){o(this,"listeners",new Map);o(this,"isOnline",navigator.onLine);o(this,"registration",null);this.setupOnlineOfflineListeners(),this.registerServiceWorker()}static getInstance(){return a.instance||(a.instance=new a),a.instance}on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}emit(e,t){(this.listeners.get(e)||[]).forEach(l=>l({type:e,data:t}))}async registerServiceWorker(){if("serviceWorker"in navigator)try{this.registration=await navigator.serviceWorker.register("/sw.js"),this.registration.addEventListener("updatefound",()=>{const e=this.registration.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&this.emit("update-available")})}),navigator.serviceWorker.addEventListener("message",e=>{e.data&&e.data.type==="SKIP_WAITING"&&this.emit("update-ready")})}catch(e){console.error("Service worker registration failed:",e)}}setupOnlineOfflineListeners(){window.addEventListener("online",()=>{this.isOnline=!0,this.emit("online")}),window.addEventListener("offline",()=>{this.isOnline=!1,this.emit("offline")})}getOnlineStatus(){return this.isOnline}async checkForUpdates(){this.registration&&await this.registration.update()}async activateUpdate(){this.registration&&this.registration.waiting&&(this.registration.waiting.postMessage({type:"SKIP_WAITING"}),await new Promise(e=>{const t=()=>{navigator.serviceWorker.removeEventListener("controllerchange",t),e()};navigator.serviceWorker.addEventListener("controllerchange",t)}))}async invalidateCache(){await this.clearCaches(),this.registration&&await this.registration.update(),window.location.reload()}async showInstallPrompt(){return new Promise(e=>{window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),t.prompt(),t.userChoice.then(s=>{e(s.outcome==="accepted")})})})}async getCacheInfo(){if("caches"in window){const e=await caches.keys();let t=0,s=0;for(const l of e){const g=await caches.open(l),m=await g.keys();s+=m.length;for(const C of m){const w=await g.match(C);if(w){const B=await w.blob();t+=B.size}}}return{size:t,entries:s}}return{size:0,entries:0}}async clearCaches(){if("caches"in window){const e=await caches.keys();await Promise.all(e.map(t=>caches.delete(t)))}}};o(a,"instance");let f=a;const n=f.getInstance(),d=document.getElementById("online-indicator"),c=document.getElementById("update-notification"),p=document.getElementById("update-button"),v=document.getElementById("dismiss-button"),r=document.getElementById("cache-info"),y=document.getElementById("cache-size"),E=document.getElementById("cache-entries"),I=document.getElementById("clear-cache-button");function h(i){d&&(d.className=`status-indicator ${i?"online":"offline"}`,d.querySelector(".status-text").textContent=i?"Online":"Offline")}function b(){c&&c.classList.remove("hidden")}function k(){c&&c.classList.add("hidden")}async function u(){try{const i=await n.getCacheInfo();if(y&&E){const e=Math.round(i.size/1024);y.textContent=`Cache: ${e} KB`,E.textContent=`${i.entries} items`,i.entries>0&&r&&r.classList.remove("hidden")}}catch(i){console.error("Failed to get cache info:",i)}}async function W(){try{await n.clearCaches(),await u(),r&&r.classList.add("hidden")}catch(i){console.error("Failed to clear cache:",i)}}function L(){h(n.getOnlineStatus()),n.on("online",()=>h(!0)),n.on("offline",()=>h(!1)),n.on("update-available",b),n.on("update-ready",()=>{window.location.reload()}),p&&p.addEventListener("click",async()=>{await n.activateUpdate(),k()}),v&&v.addEventListener("click",k),I&&I.addEventListener("click",W),u(),setInterval(u,3e4)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",L):L();</script> <!-- Install Prompt --> <div id="install-prompt" class="install-prompt hidden" data-astro-cid-sckkx6r4> <span data-astro-cid-sckkx6r4>Install Semantic Prompt Workstation</span> <button id="install-button" class="install-button" data-astro-cid-sckkx6r4>Install</button> <button id="dismiss-install" class="dismiss-button" data-astro-cid-sckkx6r4>×</button> </div> <script type="module">let r=null;"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const e=await navigator.serviceWorker.register("/sw.js");console.log("SW registered: ",e)}catch(e){console.log("SW registration failed: ",e)}});window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),r=e;const t=document.getElementById("install-prompt");t&&t.classList.remove("hidden")});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("install-button"),t=document.getElementById("dismiss-install"),a=document.getElementById("install-prompt");e&&e.addEventListener("click",async()=>{if(r){r.prompt();const{outcome:c}=await r.userChoice;r=null,a&&a.classList.add("hidden")}}),t&&t.addEventListener("click",()=>{a&&a.classList.add("hidden")})});function o(){const e=localStorage.getItem("theme-settings");if(e)try{const t=JSON.parse(e),a={default:{"--bg-base":"#0a0a0f","--bg-surface":"#12121a","--bg-elevated":"#1a1a24","--bg-hover":"#22222e","--accent-primary":"#6366f1","--accent-primary-hover":"#818cf8","--accent-secondary":"#22d3ee","--accent-success":"#34d399","--accent-warning":"#fbbf24","--accent-error":"#ef4444","--text-primary":"#f4f4f5","--text-secondary":"#a1a1aa","--text-muted":"#71717a","--border-subtle":"#27272a","--border-default":"#3f3f46"},light:{"--bg-base":"#ffffff","--bg-surface":"#f8fafc","--bg-elevated":"#f1f5f9","--bg-hover":"#e2e8f0","--accent-primary":"#6366f1","--accent-primary-hover":"#4f46e5","--accent-secondary":"#0891b2","--accent-success":"#059669","--accent-warning":"#d97706","--accent-error":"#dc2626","--text-primary":"#0f172a","--text-secondary":"#475569","--text-muted":"#64748b","--border-subtle":"#e2e8f0","--border-default":"#cbd5e1"},ocean:{"--bg-base":"#0c1821","--bg-surface":"#1b2838","--bg-elevated":"#243447","--bg-hover":"#2d4057","--accent-primary":"#3b82f6","--accent-primary-hover":"#60a5fa","--accent-secondary":"#06b6d4","--accent-success":"#10b981","--accent-warning":"#f59e0b","--accent-error":"#ef4444","--text-primary":"#f0f9ff","--text-secondary":"#bae6fd","--text-muted":"#7dd3fc","--border-subtle":"#334155","--border-default":"#475569"},forest:{"--bg-base":"#0f1419","--bg-surface":"#1a2332","--bg-elevated":"#253344","--bg-hover":"#304455","--accent-primary":"#22c55e","--accent-primary-hover":"#4ade80","--accent-secondary":"#14b8a6","--accent-success":"#10b981","--accent-warning":"#f59e0b","--accent-error":"#ef4444","--text-primary":"#f0fdf4","--text-secondary":"#bbf7d0","--text-muted":"#86efac","--border-subtle":"#374151","--border-default":"#4b5563"}};let c={};if(t.custom)c={...t.custom.colors,...t.custom.fonts};else{const n=a[t.id];n&&(c=n)}Object.entries(c).forEach(([n,s])=>{document.documentElement.style.setProperty(n,s)})}catch(t){console.warn("Failed to load saved theme:",t)}}o();document.readyState==="loading"&&document.addEventListener("DOMContentLoaded",o);</script> </body> </html>    <script type="module" src="/_astro/rules.astro_astro_type_script_index_0_lang.D-u9wyO-.js"></script>